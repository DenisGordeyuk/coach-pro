<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golo - Coach Assistant</title>
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="style.css?v=fix_scroll_drag">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- –ó–ê–°–¢–ê–í–ö–ê -->
    <div id="intro-overlay">
        <div class="intro-scene">
            <div class="logo-reveal-container">
                <div class="main-letters">
                    <span class="brand-letter letter-g">G</span>
                    <span class="brand-letter letter-o1">O</span>
                    <span class="brand-letter letter-l">L</span>
                    <span class="brand-letter letter-o2">O</span>
                </div>
                <div class="intro-tagline">Coach Assistant</div>
            </div>
            <div class="intro-progress-container">
                <div class="intro-progress-bar"></div>
            </div>
        </div>
    </div>

    <div id="app-container">
        <!-- –ú–ï–ù–Æ -->
        <nav id="sidebar">
            <div class="sidebar-logo">
                <div class="sidebar-animated-logo">
                    <span class="sidebar-letter letter-g">G</span>
                    <span class="sidebar-letter letter-o1">O</span>
                    <span class="sidebar-letter letter-l">L</span>
                    <span class="sidebar-letter letter-o2">O</span>
                </div>
                <div class="logo-tagline">Coach Assistant</div>
            </div>
            <ul class="nav-links">
                <li class="nav-item">
                    <a href="#overview" class="nav-link active">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M3 3v18h18" />
                                <path d="m19 9-5 5-4-4-3 3" />
                            </svg></span>
                        <span class="nav-text">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#players" class="nav-link">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                                <circle cx="9" cy="7" r="4" />
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                                <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                            </svg></span>
                        <span class="nav-text">–ò–≥—Ä–æ–∫–∏</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#matches" class="nav-link">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 17l-4.5-2.5V9.5L12 7l4.5 2.5v5L12 17z"></path>
                                <path d="M12 7V3"></path>
                                <path d="M7.5 9.5L4 7"></path>
                                <path d="M16.5 9.5L20 7"></path>
                                <path d="M7.5 14.5L4 17"></path>
                                <path d="M16.5 14.5L20 17"></path>
                            </svg></span>
                        <span class="nav-text">–ú–∞—Ç—á–∏</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#tactics" class="nav-link">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <rect width="18" height="18" x="3" y="3" rx="2" />
                                <path d="M3 12h18" />
                                <path d="M12 3v18" />
                                <circle cx="12" cy="12" r="3" />
                            </svg></span>
                        <span class="nav-text">–¢–∞–∫—Ç–∏–∫–∞</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#calendar" class="nav-link">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <rect width="18" height="18" x="3" y="4" rx="2" ry="2" />
                                <path d="M16 2v4" />
                                <path d="M8 2v4" />
                                <path d="M3 10h18" />
                            </svg></span>
                        <span class="nav-text">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#settings" class="nav-link">
                        <span class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="3" />
                                <path
                                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                            </svg></span>
                        <span class="nav-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </a>
                </li>
            </ul>
        </nav>

        <main id="main-content">
            <!-- 1. –ê–ù–ê–õ–ò–¢–ò–ö–ê -->
            <section id="overview" class="page-section active-section">
                <h1>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã</h1>
                <div id="analytics-dashboard-container"></div>
            </section>

            <!-- 2. –ò–ì–†–û–ö–ò -->
            <section id="players" class="page-section">
                <h1>–°–æ—Å—Ç–∞–≤ –∏ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
                <button id="add-player-btn"><span>+</span> –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞</button>
                <div id="players-list-container"></div>
            </section>

            <!-- 3. –ú–ê–¢–ß–ò -->
            <section id="matches" class="page-section">
                <h1>–ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π</h1>
                <div id="matches-list-container"></div>
            </section>

            <!-- 4. –¢–ê–ö–¢–ò–ö–ê -->
            <section id="tactics" class="page-section full-height-section">
                <div class="tactics-header">
                    <h1>–¢–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–æ—Å–∫–∞</h1>
                    <div class="tactics-toolbar">
                        <div class="tactics-presets">
                            <select id="tactics-select">
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ö–µ–º—É --</option>
                            </select>
                            <input type="text" id="tactic-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä. 4-4-2)">
                            <button id="save-tactic-btn" class="icon-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ö–µ–º—É">üíæ</button>
                            <button id="delete-tactic-btn" class="icon-btn delete" title="–£–¥–∞–ª–∏—Ç—å —Å—Ö–µ–º—É">üóëÔ∏è</button>
                        </div>
                        <div class="tactics-actions">
                            <button id="download-tactic-btn" class="tactic-tool-btn photo-btn">üì∏ –§–æ—Ç–æ</button>
                            <button id="add-opponent-btn" class="tactic-tool-btn opponent-btn">+ –°–æ–ø–µ—Ä–Ω–∏–∫</button>
                            <button id="reset-tactics-btn" class="tactic-tool-btn danger-btn">–°–±—Ä–æ—Å</button>
                        </div>
                    </div>
                </div>

                <div class="tactics-container">
                    <div class="bench-column">
                        <h3>–°–æ—Å—Ç–∞–≤</h3>
                        <div id="tactics-bench" class="bench-list"></div>
                    </div>
                    <div class="field-column">
                        <div id="football-field" class="football-field">
                            <div class="center-line"></div>
                            <div class="field-circle"></div>
                            <div class="penalty-area top"></div>
                            <div class="penalty-area bottom"></div>
                            <div class="goal-area top"></div>
                            <div class="goal-area bottom"></div>
                            <div id="field-players-layer"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 5. –ö–ê–õ–ï–ù–î–ê–†–¨ -->
            <section id="calendar" class="page-section">
                <h1>–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π</h1>
                <div id="calendar-container"></div>
            </section>

            <!-- 6. –ù–ê–°–¢–†–û–ô–ö–ò -->
            <section id="settings" class="page-section">
                <h1>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</h1>
                <div class="settings-container">
                    <div class="setting-card">
                        <h3>üì• –≠–∫—Å–ø–æ—Ä—Ç</h3>
                        <p>–°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.</p>
                        <button id="export-btn" class="action-btn export-color">–°–∫–∞—á–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö</button>
                    </div>
                    <div class="setting-card">
                        <h3>üì§ –ò–º–ø–æ—Ä—Ç</h3>
                        <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª. <br><b style="color:red">–î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã!</b></p>
                        <input type="file" id="import-file" style="display: none;" accept=".json">
                        <button id="import-trigger-btn" class="action-btn import-color">–ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∞–∑—É</button>
                    </div>
                    <div class="setting-card">
                        <h3>üóëÔ∏è –°–±—Ä–æ—Å</h3>
                        <p>–ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö.</p>
                        <button id="clear-all-btn" class="action-btn danger-btn-large">–£–¥–∞–ª–∏—Ç—å –≤—Å—ë</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- –ú–û–î–ê–õ–ö–ò (–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã) -->
    <div id="eventSelectionModal" class="modal-overlay">
        <div class="modal-content"><span class="close-modal-btn">&times;</span>
            <h2 id="selection-modal-title">–°–æ–±—ã—Ç–∏—è –Ω–∞ <span id="selection-modal-date"></span></h2>
            <div id="existing-events-list"></div>
            <div class="button-container"><button id="select-match-btn">‚öΩ –ú–∞—Ç—á</button><button
                    id="select-training-btn">üèãÔ∏è –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</button><button id="select-meeting-btn">üìÖ –í—Å—Ç—Ä–µ—á–∞</button>
            </div>
        </div>
    </div>
    <div id="addMatchModal" class="modal-overlay">
        <div class="modal-content"><span class="close-modal-btn">&times;</span>
            <h2 id="match-modal-title">–ú–∞—Ç—á</h2>
            <form id="add-match-form"><input type="hidden" id="match-date"><input type="hidden" id="match-event-id">
                <div class="form-row">
                    <div style="flex:1"><label>–í—Ä–µ–º—è:</label><input type="time" id="match-time" required></div>
                    <div style="flex:2"><label>–°–æ–ø–µ—Ä–Ω–∏–∫:</label><input type="text" id="match-opponent" required></div>
                    <div
                        style="flex:1;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end;">
                        <label style="font-size:0.8rem;margin-bottom:8px">–ó–∞–≤–µ—Ä—à–µ–Ω</label><input type="checkbox"
                            id="match-played" checked style="width:20px;height:20px;"></div>
                </div>
                <div class="form-row" style="align-items:flex-end;">
                    <div style="flex:0 0 auto;"><label>–°—á–µ—Ç:</label>
                        <div class="score-inputs"><input type="number" id="home-score" min="0"
                                style="width:60px"><span>:</span><input type="number" id="away-score" min="0"
                                style="width:60px"></div>
                    </div>
                    <div style="flex:1"><label>‚≠êÔ∏è MVP:</label><select id="match-mvp" style="height:55px;">
                            <option value="">–ù–µ –≤—ã–±—Ä–∞–Ω–æ</option>
                        </select></div>
                </div>
                <div class="match-details-section">
                    <h3>–î–µ—Ç–∞–ª–∏</h3>
                    <div class="detail-control"><label>‚öΩ –ì–æ–ª—ã:</label>
                        <div class="picker-row"><select id="goal-select"></select><button type="button"
                                class="add-mini-btn" id="add-goal-btn">+</button></div>
                        <div id="goal-list" class="added-items-list"></div>
                    </div>
                    <div class="detail-control"><label>üü® –ñ–µ–ª—Ç—ã–µ:</label>
                        <div class="picker-row"><select id="yellow-select"></select><button type="button"
                                class="add-mini-btn" id="add-yellow-btn">+</button></div>
                        <div id="yellow-list" class="added-items-list"></div>
                    </div>
                    <div class="detail-control"><label>üü• –ö—Ä–∞—Å–Ω—ã–µ:</label>
                        <div class="picker-row"><select id="red-select"></select><button type="button"
                                class="add-mini-btn" id="add-red-btn">+</button></div>
                        <div id="red-list" class="added-items-list"></div>
                    </div>
                </div>
                <div class="modal-footer"><button type="submit" class="save-btn" id="save-match-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>
    <div id="addTrainingModal" class="modal-overlay">
        <div class="modal-content"><span class="close-modal-btn">&times;</span>
            <h2 id="training-modal-title">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h2>
            <form id="add-training-form"><input type="hidden" id="training-date"><input type="hidden"
                    id="training-event-id"><label>–í—Ä–µ–º—è:</label><input type="time" id="training-time"
                    required><label>–û–ø–∏—Å–∞–Ω–∏–µ:</label><input type="text" id="training-description" required>
                <div class="modal-footer"><button type="submit" class="save-btn"
                        id="save-training-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button></div>
            </form>
        </div>
    </div>
    <div id="addMeetingModal" class="modal-overlay">
        <div class="modal-content"><span class="close-modal-btn">&times;</span>
            <h2 id="meeting-modal-title">–í—Å—Ç—Ä–µ—á–∞</h2>
            <form id="add-meeting-form"><input type="hidden" id="meeting-date"><input type="hidden"
                    id="meeting-event-id"><label>–í—Ä–µ–º—è:</label><input type="time" id="meeting-time" required><label>–°
                    –∫–µ–º:</label><input type="text" id="meeting-opponent" required>
                <div class="modal-footer"><button type="submit" class="save-btn"
                        id="save-meeting-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button></div>
            </form>
        </div>
    </div>
    <div id="playerModal" class="modal-overlay">
        <div class="modal-content"><span class="close-modal-btn" id="close-player-modal">&times;</span>
            <h2 id="player-modal-title">–ò–≥—Ä–æ–∫</h2>
            <form id="add-edit-player-form"><input type="hidden" id="player-id">
                <div class="form-row" style="justify-content:center;margin-bottom:15px;">
                    <div class="player-photo-upload" id="player-photo-preview"
                        onclick="document.getElementById('player-photo-url').focus()"><span>üì∑</span></div>
                </div><label>–§–æ—Ç–æ (URL):</label><input type="text" id="player-photo-url"
                    onchange="updatePhotoPreview(this.value)"><label>–§–ò–û:</label><input type="text" id="player-name"
                    required>
                <div class="form-row">
                    <div style="flex:1"><label>–ü–æ–∑–∏—Ü–∏—è:</label><select id="player-pos" required>
                            <option>–í—Ä–∞—Ç–∞—Ä—å</option>
                            <option>–ó–∞—â–∏—Ç–Ω–∏–∫</option>
                            <option>–ü–æ–ª—É–∑–∞—â–∏—Ç–Ω–∏–∫</option>
                            <option>–ù–∞–ø–∞–¥–∞—é—â–∏–π</option>
                        </select></div>
                    <div style="flex:1"><label>–°—Ç–∞—Ç—É—Å:</label><select id="player-status" required>
                            <option>–ó–¥–æ—Ä–æ–≤</option>
                            <option>–¢—Ä–∞–≤–º–∞</option>
                            <option>–ë–æ–ª–µ–Ω</option>
                            <option>–î–∏—Å–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è</option>
                        </select></div>
                </div>
                <div class="form-row">
                    <div style="flex:1"><label>–î–∞—Ç–∞ —Ä–æ–∂–¥.:</label><input type="date" id="player-dob"></div>
                    <div style="flex:1"><label>–¢–µ–ª–µ—Ñ–æ–Ω:</label><input type="text" id="player-phone"></div>
                </div>
                <div class="form-row">
                    <div style="flex:1"><label>–†–æ—Å—Ç:</label><input type="number" id="player-height"></div>
                    <div style="flex:1"><label>–í–µ—Å:</label><input type="number" id="player-weight"></div>
                </div><label>–ó–∞–º–µ—Ç–∫–∏:</label><textarea id="player-notes" rows="3"
                    style="background:rgba(255,255,255,0.05);border:1px solid #eee;color:#000;padding:12px;border-radius:12px;width:100%;resize:vertical;"></textarea><button
                    type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </form>
        </div>
    </div>
    <div id="confirmModal" class="modal-overlay" style="z-index:10000;">
        <div class="modal-content" style="max-width:400px;text-align:center;">
            <h2 style="margin-bottom:10px;">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</h2>
            <p id="confirm-message" style="color:var(--text-secondary);margin-bottom:25px;"></p>
            <div class="form-row"><button id="confirm-cancel-btn" class="action-btn"
                    style="background:rgba(0,0,0,0.1);color:#000;">–û—Ç–º–µ–Ω–∞</button><button id="confirm-ok-btn"
                    class="action-btn danger-btn-large">–î–∞, —É–¥–∞–ª–∏—Ç—å</button></div>
        </div>
    </div>

    <script src="script.js?v=fix_scroll_drag"></script>
</body>

</html>
